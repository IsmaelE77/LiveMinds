CREATE TABLE role (
  id BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
   name VARCHAR(255),
   CONSTRAINT pk_role PRIMARY KEY (id)
);

CREATE TABLE app_user (
  id BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
   user_name VARCHAR(255),
   name VARCHAR(255),
   email VARCHAR(255) NOT NULL,
   password VARCHAR(255) NOT NULL,
   role_id BIGINT NOT NULL,
   CONSTRAINT pk_appuser PRIMARY KEY (id)
);

ALTER TABLE app_user ADD CONSTRAINT FK_APPUSER_ON_ROLE FOREIGN KEY (role_id) REFERENCES role (id);


CREATE TABLE room (
  name VARCHAR(255) NOT NULL,
   program VARCHAR(255),
   course VARCHAR(255),
   professor_class VARCHAR(255),
   time date,
   broadcaster_id BIGINT NOT NULL,
   CONSTRAINT pk_room PRIMARY KEY (name)
);

ALTER TABLE room ADD CONSTRAINT FK_ROOM_ON_BROADCASTER FOREIGN KEY (broadcaster_id) REFERENCES app_user (id);